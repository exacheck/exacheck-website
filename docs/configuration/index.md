---
icon: material/cog
---

# Configuration

ExaCheck reads from a YAML or JSON configuration file containing the list of checks. By default, the configuration file will be loaded from `/etc/exabgp/exacheck.yaml`. If the configuration file extension is `json`, the file will be loaded as a JSON file rather than YAML.

## Base Structure

A (minimal) configuration schema looks like this:

```yaml
---

# The list of health checks
checks:

--8<--
examples/checks/dns/basic.md
--8<--

# An optional list of notification targets
notifications:

--8<--
examples/notifications/teams.md
--8<--
```

## Configuration Keys

The following top level configuration keys are available:

| Key                                           | Type                           | Default |
| --------------------------------------------- | ------------------------------ | ------- |
| [`exacheck`](#exacheck)                       | Dict                           | *undef* |
| [`checks`](#checks)                           | List[Check]                    | *undef* |
| [`logging`](#logging)                         | *Optional* List[LogMethods]    | *undef* |
| [`notifications`](#notifications)             | *Optional* List[Notifications] | *undef* |
| [`sentry`](#sentry)                           | *Optional* Dict                | *undef* |

### ExaCheck

The `exacheck` key contains the various internal configuration for ExaCheck. Configuration to enable/disable live reloading and the monitoring interval can be adjusted using this key.

For the list of available configuration options sett the [ExaCheck internal configuration page][ExaCheck Configuration - Internal].

### Checks

The `checks` key contains a list of the health checks that should be executed. For the configuration of individual checks see the [health checks configuration page][ExaCheck Configuration - Health Checks].

### Logging

The `logs` key contains a list of log targets. These may be file based or remote syslog (UDP/TCP) servers. For configuration options see the [logging configuration page][ExaCheck Configuration - Logging].

### Notifications

The `notifications` key contains a list of notification targets. See the [notifications configuration page][ExaCheck Configuration - Notifications].

### Sentry

Sentry error reporting/profiling can be configured with the `sentry` key. See the [Sentry configuration page][ExaCheck Configuration - Sentry].

## Validation

The configuration file is validated using [Pydantic][Pydantic Homepage]. The configuration file is parsed into a dictionary from YAML or JSON which is then loaded into the Pydantic model.

Validation is as strict as possible while also being safe - ExaCheck will not start if the configuration is invalid and live reloads are skipped if the configuration becomes invalid.

## Configuration Schema

A JSON schema for the configuration is available in [schema.json][ExaCheck Configuration Schema]. Alternatively the schema can be generated by the [command line interface][ExaCheck CLI - Configuration Schema] directly.

The JSON schema can be used by certain IDEs (VS Code as an example) to validate the configuration as you edit it. It can also be used to visualize the list of available options using a tool such as [JSON Crack][JSON Crack Editor].

### VS Code

If using VS Code with the [YAML Language Server][YAML Language Server] the following header may be set in the configuration file:

```yaml
---
# yaml-language-server: $schema=https://raw.githubusercontent.com/exacheck/exacheck/main/schema.json
```

[ExaCheck CLI - Configuration Schema]: ../features/cli.md#configuration-schema
[ExaCheck Configuration Schema]: https://github.com/exacheck/exacheck/blob/main/schema.json
[ExaCheck Configuration - Logging]: logging/index.md
[ExaCheck Configuration - Notifications]: notifications.md
[ExaCheck Configuration - Health Checks]: health-checks/index.md
[ExaCheck Configuration - Sentry]: sentry.md
[ExaCheck Configuration - Internal]: exacheck.md
[Pydantic Homepage]: https://docs.pydantic.dev/latest/
[YAML Language Server]: https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml
[JSON Crack Editor]: https://jsoncrack.com/editor
